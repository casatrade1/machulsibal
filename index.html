<!DOCTYPE html>
<html lang="ko" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¹Œì‚¬íŠ¸ë ˆì´ë“œ ì½˜í…ì¸  ì œì‘ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
    </style>
</head>
<body class="h-full bg-gray-50 dark:bg-gray-900">
    <div class="min-h-full">
        <!-- Header -->
        <header class="gradient-bg shadow-lg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-6">
                    <div>
                        <h1 class="text-3xl font-bold text-white">ê¹Œì‚¬íŠ¸ë ˆì´ë“œ ì½˜í…ì¸  ì œì‘ê¸°</h1>
                        <p class="text-white/80 mt-2">ëª…í’ˆ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ë©´ ìë™ìœ¼ë¡œ ë¸”ë¡œê·¸ì™€ ì“°ë ˆë“œ ì½˜í…ì¸ ë¥¼ ìƒì„±í•©ë‹ˆë‹¤</p>
                    </div>
                    <div class="flex space-x-4">
                        <button id="theme-toggle" class="bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-colors">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Left Column: Upload & Settings -->
                <div class="space-y-6">
                    <!-- Image Upload -->
                    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 card-hover">
                        <h2 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">ëª…í’ˆ ì‚¬ì§„ ì—…ë¡œë“œ</h2>
                        <div id="drop-zone" class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-purple-500 transition-colors cursor-pointer">
                            <div id="upload-prompt">
                                <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">í´ë¦­í•˜ê±°ë‚˜ ë“œë˜ê·¸í•˜ì—¬ ì´ë¯¸ì§€ ì—…ë¡œë“œ</p>
                                <p class="text-xs text-gray-500 dark:text-gray-500">PNG, JPG, GIF (ìµœëŒ€ 10MB)</p>
                            </div>
                            <div id="image-preview" class="hidden">
                                <img id="preview-img" class="mx-auto max-h-64 rounded-lg shadow-lg" alt="Preview">
                                <p id="file-info" class="mt-2 text-sm text-gray-600 dark:text-gray-400"></p>
                            </div>
                        </div>
                        <input type="file" id="file-input" class="hidden" accept="image/*">
                    </div>

                    <!-- User Comment -->
                    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 card-hover">
                        <h2 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">ì¶”ê°€ ì½”ë©˜íŠ¸ (ì„ íƒì‚¬í•­)</h2>
                        <textarea id="user-comment" rows="3" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="ì˜ˆ: ê²¨ìš¸ì¤€ë¹„, ê²¨ìš¸ë§¤ì… í•˜ê³ ê³„ì‹ ë‹¤ë“¤"></textarea>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">ì´ ì½”ë©˜íŠ¸ëŠ” ìƒì„±ë˜ëŠ” ì½˜í…ì¸ ì— ë°˜ì˜ë©ë‹ˆë‹¤.</p>
                    </div>

                    <!-- Tone Selection -->
                    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 card-hover">
                        <h2 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">í†¤ ì„¤ì •</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">ì“°ë ˆë“œ í†¤</label>
                                <select id="thread-tone" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                                    <option value="ì„¤ë“ì ">ì„¤ë“ì </option>
                                    <option value="ì¹œê·¼í•œ">ì¹œê·¼í•œ</option>
                                    <option value="ì „ë¬¸ì ">ì „ë¬¸ì </option>
                                    <option value="ë„ë°œì ">ë„ë°œì </option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">ë¸”ë¡œê·¸ í†¤</label>
                                <select id="blog-tone" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white">
                                    <option value="ì „ë¬¸ì ">ì „ë¬¸ì </option>
                                    <option value="ì¹œê·¼í•œ">ì¹œê·¼í•œ</option>
                                    <option value="ê¶Œìœ„ì ">ê¶Œìœ„ì </option>
                                    <option value="ì‹¤ìš©ì ">ì‹¤ìš©ì </option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Generate Button -->
                    <button id="generate-btn" class="w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold py-4 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none" disabled>
                        <span id="generate-text">ì½˜í…ì¸  ìƒì„±í•˜ê¸°</span>
                        <span id="generate-loading" class="hidden">
                            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            ìƒì„± ì¤‘...
                        </span>
                    </button>
                </div>

                <!-- Right Column: Results -->
                <div class="space-y-6">
                    <!-- Product Analysis -->
                    <div id="product-analysis" class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 card-hover hidden">
                        <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white flex items-center">
                            <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            ì œí’ˆ ë¶„ì„ ê²°ê³¼
                        </h3>
                        <div id="analysis-content" class="space-y-3"></div>
                    </div>

                    <!-- AI Model Info -->
                    <div id="ai-info" class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 card-hover hidden">
                        <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">ğŸ¤– AI ëª¨ë¸ ì‚¬ìš© í˜„í™©</h3>
                    </div>

                    <!-- Thread Content -->
                    <div id="thread-content" class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 card-hover hidden">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">ğŸ“± ì“°ë ˆë“œ ì½˜í…ì¸ </h3>
                            <button id="copy-thread" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm transition-colors">
                                ë³µì‚¬
                            </button>
                        </div>
                        <div id="thread-text" class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap"></div>
                    </div>

                    <!-- Blog Content -->
                    <div id="blog-content" class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 card-hover hidden">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">ğŸ“ ë¸”ë¡œê·¸ ì½˜í…ì¸ </h3>
                            <button id="copy-blog" class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm transition-colors">
                                ë³µì‚¬
                            </button>
                        </div>
                        <div id="blog-text" class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap max-h-96 overflow-y-auto"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // DOM ìš”ì†Œë“¤
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const uploadPrompt = document.getElementById('upload-prompt');
        const imagePreview = document.getElementById('image-preview');
        const previewImg = document.getElementById('preview-img');
        const fileInfo = document.getElementById('file-info');
        const userComment = document.getElementById('user-comment');
        const generateBtn = document.getElementById('generate-btn');
        const generateText = document.getElementById('generate-text');
        const generateLoading = document.getElementById('generate-loading');
        const productAnalysis = document.getElementById('product-analysis');
        const analysisContent = document.getElementById('analysis-content');
        const threadContent = document.getElementById('thread-content');
        const threadText = document.getElementById('thread-text');
        const blogContent = document.getElementById('blog-content');
        const blogText = document.getElementById('blog-text');
        const copyThreadBtn = document.getElementById('copy-thread');
        const copyBlogBtn = document.getElementById('copy-blog');
        const themeToggle = document.getElementById('theme-toggle');

        let currentImageBase64 = null;

        // ë‹¤í¬ëª¨ë“œ í† ê¸€
        themeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
        });

        // ë‹¤í¬ëª¨ë“œ ì´ˆê¸°í™”
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.classList.add('dark');
        }

        // íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
        dropZone.addEventListener('click', () => fileInput.click());
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('border-purple-500', 'bg-purple-50');
        });
        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('border-purple-500', 'bg-purple-50');
        });
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('border-purple-500', 'bg-purple-50');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleFile(e.target.files[0]);
            }
        });

        function handleFile(file) {
            if (!file.type.startsWith('image/')) {
                alert('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                return;
            }

            if (file.size > 10 * 1024 * 1024) {
                alert('íŒŒì¼ í¬ê¸°ëŠ” 10MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
                currentImageBase64 = e.target.result.split(',')[1];
                previewImg.src = e.target.result;
                fileInfo.textContent = `${file.name} (${Math.round(file.size / 1024)}KB)`;
                uploadPrompt.classList.add('hidden');
                imagePreview.classList.remove('hidden');
                updateGenerateButtonState();
            };
            reader.readAsDataURL(file);
        }

        function updateGenerateButtonState() {
            const hasImage = !!currentImageBase64;
            generateBtn.disabled = !hasImage;
        }

        // ì½˜í…ì¸  ìƒì„±
        async function generateContent() {
            if (!currentImageBase64) {
                alert('ì´ë¯¸ì§€ë¥¼ ë¨¼ì € ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
                return;
            }

            const threadTone = document.getElementById('thread-tone').value;
            const blogTone = document.getElementById('blog-tone').value;
            const comment = userComment.value.trim();

            // UI ìƒíƒœ ë³€ê²½
            generateBtn.disabled = true;
            generateText.classList.add('hidden');
            generateLoading.classList.remove('hidden');

            try {
                console.log('ì½˜í…ì¸  ìƒì„± ì‹œì‘...', {
                    hasImage: !!currentImageBase64,
                    threadTone,
                    blogTone,
                    comment
                });

                // 1ë‹¨ê³„: ì œí’ˆ ë¶„ì„
                const analysisResponse = await fetch('/api/analyze-product', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        imageBase64: currentImageBase64,
                        userComment: comment
                    })
                });

                if (!analysisResponse.ok) {
                    throw new Error('ì œí’ˆ ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }

                const { productAnalysis } = await analysisResponse.json();
                console.log('ì œí’ˆ ë¶„ì„ ì™„ë£Œ:', productAnalysis);

                // 2ë‹¨ê³„: ì½˜í…ì¸  ìƒì„±
                const contentResponse = await fetch('/api/generate-content', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        productAnalysis,
                        threadTone,
                        blogTone,
                        userComment: comment
                    })
                });

                if (!contentResponse.ok) {
                    throw new Error('ì½˜í…ì¸  ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }

                const result = await contentResponse.json();
                console.log('ìƒì„± ì™„ë£Œ:', result);
                
                // ê²°ê³¼ í‘œì‹œ
                displayResults(result);
                
            } catch (error) {
                console.error('ìƒì„± ì˜¤ë¥˜:', error);
                alert('ì½˜í…ì¸  ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            } finally {
                // UI ìƒíƒœ ë³µì›
                generateBtn.disabled = false;
                generateText.classList.remove('hidden');
                generateLoading.classList.add('hidden');
            }
        }

        function displayResults(result) {
            // ì œí’ˆ ë¶„ì„ ê²°ê³¼ í‘œì‹œ
            analysisContent.innerHTML = `
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <div class="text-sm text-blue-600 font-medium">ë¸Œëœë“œ</div>
                        <div class="text-lg font-bold text-blue-800">${result.productAnalysis.brand}</div>
                    </div>
                    <div class="bg-green-50 p-3 rounded-lg">
                        <div class="text-sm text-green-600 font-medium">ëª¨ë¸</div>
                        <div class="text-lg font-bold text-green-800">${result.productAnalysis.model}</div>
                    </div>
                    <div class="bg-yellow-50 p-3 rounded-lg">
                        <div class="text-sm text-yellow-600 font-medium">ìƒíƒœ</div>
                        <div class="text-lg font-bold text-yellow-800">${result.productAnalysis.condition}</div>
                    </div>
                    <div class="bg-purple-50 p-3 rounded-lg">
                        <div class="text-sm text-purple-600 font-medium">ì˜ˆìƒê°€ê²©</div>
                        <div class="text-lg font-bold text-purple-800">${result.productAnalysis.estimatedValue.toLocaleString()}ì›</div>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="text-sm text-gray-600 font-medium mb-2">íƒ€ê²Ÿ ê³ ê°</div>
                    <div class="flex flex-wrap gap-2">
                        ${result.productAnalysis.targetAudience.map(audience => 
                            `<span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">${audience}</span>`
                        ).join('')}
                    </div>
                </div>
                <div class="mt-4">
                    <div class="text-sm text-gray-600 font-medium mb-2">íŒë§¤ í¬ì¸íŠ¸</div>
                    <div class="flex flex-wrap gap-2">
                        ${result.productAnalysis.sellingPoints.map(point => 
                            `<span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm">${point}</span>`
                        ).join('')}
                    </div>
                </div>
            `;

            // ì“°ë ˆë“œ ì½˜í…ì¸  í‘œì‹œ
            threadText.textContent = result.threadContent;

            // ë¸”ë¡œê·¸ ì½˜í…ì¸  í‘œì‹œ
            blogText.textContent = result.blogContent;

            // AI ëª¨ë¸ ì •ë³´ í‘œì‹œ
            if (result.aiModels) {
                const aiInfoSection = document.getElementById('ai-info');
                if (aiInfoSection) {
                    aiInfoSection.innerHTML = `
                        <div class="mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-blue-900 dark:text-blue-100">ì„ íƒëœ ëª¨ë¸</span>
                                <span class="px-3 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-100 rounded-full text-sm font-medium">${result.selectedModel}</span>
                            </div>
                            <p class="text-sm text-blue-700 dark:text-blue-300">${result.selectionReason}</p>
                        </div>

                        <div class="space-y-3">
                            ${result.aiModels.map(model => `
                                <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-2">
                                            <span class="font-medium text-gray-900 dark:text-white">${model.name}</span>
                                            <span class="px-2 py-1 text-xs rounded-full ${model.status === 'ì‚¬ìš©ë¨' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100'}">${model.status}</span>
                                        </div>
                                        <div class="text-sm text-gray-600 dark:text-gray-400 mt-1">${model.reason}</div>
                                    </div>
                                    <div class="text-right text-sm">
                                        ${model.status === 'ì‚¬ìš©ë¨' ? `
                                            <div class="text-gray-900 dark:text-white">ì‘ë‹µì‹œê°„: ${model.responseTime}</div>
                                            <div class="text-gray-900 dark:text-white">í’ˆì§ˆ: ${model.quality}</div>
                                            <div class="text-gray-900 dark:text-white">ë¹„ìš©: ${model.cost}</div>
                                        ` : `
                                            <div class="text-gray-500 dark:text-gray-400">ì‚¬ìš© ì•ˆë¨</div>
                                        `}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg">
                            <div class="text-sm text-yellow-800 dark:text-yellow-200">
                                <strong>ğŸ’¡ ìµœì í™” ì „ëµ:</strong> ì´ë¯¸ì§€ ë¶„ì„ì€ GPT-4 Vision, ì½˜í…ì¸  ìƒì„±ì€ Claude 3ë¥¼ ì¡°í•©í•˜ì—¬ ìµœê³  í’ˆì§ˆì˜ ê²°ê³¼ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
                            </div>
                        </div>
                    `;
                    aiInfoSection.classList.remove('hidden');
                }
            }

            // ê²°ê³¼ ì„¹ì…˜ë“¤ í‘œì‹œ
            productAnalysis.classList.remove('hidden');
            threadContent.classList.remove('hidden');
            blogContent.classList.remove('hidden');

            // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
            [productAnalysis, threadContent, blogContent].forEach((element, index) => {
                setTimeout(() => {
                    element.classList.add('fade-in');
                }, index * 200);
            });
        }

        // ë³µì‚¬ ê¸°ëŠ¥
        copyThreadBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(threadText.textContent).then(() => {
                copyThreadBtn.textContent = 'ë³µì‚¬ë¨!';
                setTimeout(() => {
                    copyThreadBtn.textContent = 'ë³µì‚¬';
                }, 2000);
            });
        });

        copyBlogBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(blogText.textContent).then(() => {
                copyBlogBtn.textContent = 'ë³µì‚¬ë¨!';
                setTimeout(() => {
                    copyBlogBtn.textContent = 'ë³µì‚¬';
                }, 2000);
            });
        });

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        generateBtn.addEventListener('click', generateContent);

        // ì´ˆê¸°í™”
        updateGenerateButtonState();
    </script>
</body>
</html>
